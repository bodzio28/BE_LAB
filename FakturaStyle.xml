<?xml version="1.0" encoding="UTF-8"?>
<xsl : stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="html" encoding="UTF-8" >

    <xsl : template match="/">
        <html>
            <head>
                <title>Faktura</title>
                <style>
                    body { font-family: Arial, sans-serif; }
                    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    th, td { border: 1px solid #000; padding: 8px; text-align: left; }
                    th { background-color: #f2f2f2; }
                </style>
            </head>
            <body>
                <div class="faktura">
                    <h1>Faktura Nr: <xsl:value-of select="/faktura/@numer"/></h1>
                    <p>Data Wystawienia: <xsl:value-of select="/faktura/dataWystawienia"/></p>
                
                    <div class="dane">
                        <div>
                            <h2>Sprzedawca</h2>
                            <p><xsl:value-of select="/faktura/sprzedawca/nazwa"/></p>
                            <p>
                                <xsl:value-of select="/faktura/sprzedawca/adres/ulica"/>, 
                                <xsl:value-of select="/faktura/sprzedawca/adres/miasto"/>, 
                                <xsl:value-of select="/faktura/sprzedawca/adres/kodPocztowy"/>, 
                                <xsl:value-of select="/faktura/sprzedawca/adres/kraj"/>
                            </p>
                            <p>NIP: <xsl:value-of select="/faktura/sprzedawca/nip"/></p>
                        </div>

                        <div>
                            <h2>Nabywca</h2>
                            <p><xsl:value-of select="/faktura/nabywca/nazwa"/></p>
                            <p>
                                <xsl:value-of select="/faktura/nabywca/adres/ulica"/>, 
                                <xsl:value-of select="/faktura/nabywca/adres/miasto"/>, 
                                <xsl:value-of select="/faktura/nabywca/adres/kodPocztowy"/>, 
                                <xsl:value-of select="/faktura/nabywca/adres/kraj"/>
                            </p>
                            <p>NIP: <xsl:value-of select="/faktura/nabywca/nip"/></p>
                        </div>
                    </div>

                    <h2>Pozycje na fakturze</h2>
                    <table>
                        <tr>
                            <th>Nazwa</th>
                            <th>Ilość</th>
                            <th>Cena Jednostkowa</th>
                            <th>Wartość</th>
                        </tr>
                        <xsl:for-each select="/faktura/pozycje/pozycja">
                            <tr>
                                <td><xsl:number value="position()" format="1"/></td>
                                <td><xsl:value-of select="nazwa"/></td>
                                <td><xsl:value-of select="ilosc"/></td>
                                <td><xsl:value-of select="cenaJednostkowa"/></td>
                                <td><xsl:value-of select="wartosc"/></td>
                            </tr>
                        </xsl:for-each>
                    </table>
                </div>
            </body>
        </html>
    </xsl : template>
</xsl : stylesheet>
                    