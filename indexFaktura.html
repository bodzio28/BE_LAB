<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Faktura</title>
  <style>
    body {
      background-color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      font-family: Arial, sans-serif;
    }

    .faktura-kontener {
      position: relative;
      width: 2000px;
      height: 900px;
      background-image: url('faktura.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      border: 1px solid #000;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    
    .pole {
      position: absolute;
      font-size: 35px;
      padding: 5px;
      box-sizing: border-box;
    }
    
    .pole-xml {
      background: transparent;
      border: none;
      font-weight: bold;
      color: #333;
    }

    .pole-input {
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(0, 0, 255, 0.4);
    }
    
    .pole-wynik {
      background: rgba(255, 255, 0, 0.2);
      border: 1px solid rgba(255, 0, 0, 0.5);
      font-weight: bold;
      text-align: right;
    }
    
    /* XML */
    #data-wystawienia  { top: 80px; left: 1000px; width: 200px; text-align: center;}
    #miejsce-wystawienia { top: 80px; left: 1300px; width: 110px; text-align: center;}
    
    #sprzedawca-imie  { top: 70px; left: 220px; width: 210px; }
    #sprzedawca-nazwisko  { top: 100px; left: 220px; width: 210px; }
    #sprzedawca-adres  { top: 130px; left: 220px; width: 500px; }
    #sprzedawca-nazwa  { top: 200px; left: 220px; width: 400px; }

    #nabywca-nazwa { top: 290px; left: 500px; width: 700px; }
    #nabywca-adres { top: 357px; left: 300px; width: 700px; }

    #nazwa-towaru-1 { top: 542px; left: 185px; width: 900px; }
    #ilosc-1        { top: 537px; left: 1300px; width: 100px; text-align: center;}
    #cena-jedn-1    { top: 537px; left: 1430px; width: 200px; text-align: center;}
    #wartosc-towaru-1 { top: 537px; left: 1640px; width: 250px; text-align: center;}

    #nazwa-towaru-2 { top: 597px; left: 185px; width: 900px; }
    #ilosc-2        { top: 593px; left: 1300px; width: 100px; text-align: center;}
    #cena-jedn-2    { top: 593px; left: 1430px; width: 200px; text-align: center;}
    #wartosc-towaru-2 { top: 593px  ; left: 1640px; width: 250px; text-align: center;}

    #nazwa-towaru-3 { top: 653px; left: 185px; width: 900px; }
    #ilosc-3        { top: 649px; left: 1300px; width: 100px; text-align: center;}
    #cena-jedn-3    { top: 649px; left: 1430px; width: 200px; text-align: center;}
    #wartosc-towaru-3 { top: 649px  ; left: 1640px; width: 250px; text-align: center;}

    #nazwa-towaru-4 { top: 707px; left: 185px; width: 900px; }
    #ilosc-4        { top: 703px; left: 1300px; width: 100px; text-align: center;}
    #cena-jedn-4    { top: 703px; left: 1430px; width: 200px; text-align: center;}
    #wartosc-towaru-4 { top: 703px  ; left: 1640px; width: 250px; text-align: center;}

    #nazwa-towaru-5 { top: 763px; left: 185px; width: 900px; }
    #ilosc-5        { top: 759px; left: 1300px; width: 100px; text-align: center;}
    #cena-jedn-5    { top: 759px; left: 1430px; width: 200px; text-align: center;}
    #wartosc-towaru-5 { top: 759px  ; left: 1640px; width: 250px; text-align: center;}

    #suma-razem     { top: 830px; left: 1640px; width: 250px; text-align: center;}

  </style>
</head>
<body>

  <div class="faktura-kontener">
    
    <span id="data-wystawienia" class="pole pole-xml"></span>
    <span id="miejsce-wystawienia" class="pole pole-xml"></span>
    <span id="sprzedawca-imie" class="pole pole-xml"></span>
    <span id="sprzedawca-nazwisko" class="pole pole-xml"></span>
    <span id="sprzedawca-adres" class="pole pole-xml"></span>
    <span id="sprzedawca-nazwa" class="pole pole-xml"></span>
    
    <input type="text" id="nabywca-nazwa" class="pole pole-input" placeholder="Imię, nazwisko...">
    <input type="text" id="nabywca-adres" class="pole pole-input" placeholder="Adres...">
    
    <input type="text" id="nazwa-towaru-1" class="pole pole-input" placeholder="Nazwa towaru...">
    <input type="number" id="ilosc-1" class="pole pole-input pole-obliczeniowe" value="0" min="0">
    <input type="number" id="cena-jedn-1" class="pole pole-input pole-obliczeniowe" value="0.00" step="0.01" min="0">
    <input type="text" id="wartosc-towaru-1" class="pole pole-wynik" readonly>

    <input type="text" id="nazwa-towaru-2" class="pole pole-input" placeholder="Nazwa towaru...">
    <input type="number" id="ilosc-2" class="pole pole-input pole-obliczeniowe" value="0" min="0">
    <input type="number" id="cena-jedn-2" class="pole pole-input pole-obliczeniowe" value="0.00" step="0.01" min="0">
    <input type="text" id="wartosc-towaru-2" class="pole pole-wynik" readonly>

    <input type="text" id="nazwa-towaru-3" class="pole pole-input" placeholder="Nazwa towaru...">
    <input type="number" id="ilosc-3" class="pole pole-input pole-obliczeniowe" value="0" min="0">
    <input type="number" id="cena-jedn-3" class="pole pole-input pole-obliczeniowe" value="0.00" step="0.01" min="0">
    <input type="text" id="wartosc-towaru-3" class="pole pole-wynik" readonly>

    <input type="text" id="nazwa-towaru-4" class="pole pole-input" placeholder="Nazwa towaru...">
    <input type="number" id="ilosc-4" class="pole pole-input pole-obliczeniowe" value="0" min="0">
    <input type="number" id="cena-jedn-4" class="pole pole-input pole-obliczeniowe" value="0.00" step="0.01" min="0">
    <input type="text" id="wartosc-towaru-4" class="pole pole-wynik" readonly>
    
    <input type="text" id="nazwa-towaru-5" class="pole pole-input" placeholder="Nazwa towaru...">
    <input type="number" id="ilosc-5" class="pole pole-input pole-obliczeniowe" value="0" min="0">
    <input type="number" id="cena-jedn-5" class="pole pole-input pole-obliczeniowe" value="0.00" step="0.01" min="0">
    <input type="text" id="wartosc-towaru-5" class="pole pole-wynik" readonly>


    
     <input type="text" id="suma-razem" class="pole pole-wynik" readonly>

  </div>
  <script>
    
    async function zaladujDaneXML() {

        const response = await fetch('faktura.xml');

        if (!response.ok) {
            throw new Error(`Błąd HTTP! Status: ${response.status}`);
        }
        const xmlText = await response.text();
        
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlText, "application/xml");

        const data = xmlDoc.querySelector('dataWystawienia').textContent;
        const miejsce = xmlDoc.querySelector('miejsceWystawienia').textContent;
        const sprzedawcaImie = xmlDoc.querySelector('sprzedawca imie').textContent;
        const sprzedawcaNazwisko = xmlDoc.querySelector('sprzedawca nazwisko').textContent;
        const sprzedawcaNazwa = xmlDoc.querySelector('sprzedawca nazwa').textContent;
        const sprzedawcaAdres = xmlDoc.querySelector('sprzedawca adres').textContent;

        document.getElementById('data-wystawienia').textContent = data;
        document.getElementById('miejsce-wystawienia').textContent = miejsce;
        document.getElementById('sprzedawca-imie').textContent = sprzedawcaImie;
        document.getElementById('sprzedawca-nazwisko').textContent = sprzedawcaNazwisko;
        document.getElementById('sprzedawca-nazwa').textContent = sprzedawcaNazwa;
        document.getElementById('sprzedawca-adres').textContent = sprzedawcaAdres;
    }
    // Sumowanie Pól
    function obliczSume() {
      let sumaCalkowita = 0;
      
      const ilosc1 = parseFloat(document.getElementById('ilosc-1').value) || 0;
      const cena1 = parseFloat(document.getElementById('cena-jedn-1').value) || 0;
      const wartosc1 = ilosc1 * cena1;
      document.getElementById('wartosc-towaru-1').value = wartosc1.toFixed(2);
      sumaCalkowita += wartosc1;
      
      const ilosc2 = parseFloat(document.getElementById('ilosc-2').value) || 0;
      const cena2 = parseFloat(document.getElementById('cena-jedn-2').value) || 0;
      const wartosc2 = ilosc2 * cena2;
      document.getElementById('wartosc-towaru-2').value = wartosc2.toFixed(2);
      sumaCalkowita += wartosc2;

      const ilosc3 = parseFloat(document.getElementById('ilosc-3').value) || 0;
      const cena3 = parseFloat(document.getElementById('cena-jedn-3').value) || 0;
      const wartosc3 = ilosc3 * cena3;
      document.getElementById('wartosc-towaru-3').value = wartosc3.toFixed(2);
      sumaCalkowita += wartosc3;

      const ilosc4 = parseFloat(document.getElementById('ilosc-4').value) || 0;
      const cena4 = parseFloat(document.getElementById('cena-jedn-4').value) || 0;
      const wartosc4 = ilosc4 * cena4;
      document.getElementById('wartosc-towaru-4').value = wartosc4.toFixed(2);
      sumaCalkowita += wartosc4;

      const ilosc5 = parseFloat(document.getElementById('ilosc-5').value) || 0;
      const cena5 = parseFloat(document.getElementById('cena-jedn-5').value) || 0;
      const wartosc5 = ilosc5 * cena5;
      document.getElementById('wartosc-towaru-5').value = wartosc5.toFixed(2);
      sumaCalkowita += wartosc5;
      
      document.getElementById('suma-razem').value = sumaCalkowita.toFixed(2) + ' zł';
    }
    // Start
    document.addEventListener('DOMContentLoaded', zaladujDaneXML);

    const polaDoKalkulacji = document.querySelectorAll('.pole-obliczeniowe');
    
    polaDoKalkulacji.forEach(function(pole) {
      pole.addEventListener('input', obliczSume);
    });
    
    obliczSume();

  </script>
</body>
</html>


